<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use PDO;

class MahasiswaController extends Controller
{
    public function list()
    {
        return view("mahasiswa.list", array("mahasiswa" => $this->getMahasiswa()));
    }

    public function add()
    {
        return view("mahasiswa.insert");
    }

    public function edit($nrp = null)
    {
        if ($nrp) {
            foreach ($this->getMahasiswa() as $m) {
                if ($m["nrp"] == $nrp) {
                    return view("mahasiswa.update", array("m" => $m));
                }
            }
        }
        return view("error.404");
    }

    private function getMahasiswa()
    {
        return json_decode("[{\"nrp\":218116600,\"nama\":\"Bord Thornham\",\"ipk\":2.27,\"semester\":6,\"sks\":18,\"propic\":\"https://picsum.photos/id/533/300/300\",\"email\":\"bthornham0@scientificamerican.com\"},{\"nrp\":218116601,\"nama\":\"Carlee Soars\",\"ipk\":0.52,\"semester\":10,\"sks\":24,\"propic\":\"https://picsum.photos/id/740/300/300\",\"email\":\"csoars1@spotify.com\"},{\"nrp\":218116602,\"nama\":\"Roley Burril\",\"ipk\":1.64,\"semester\":14,\"sks\":31,\"propic\":\"https://picsum.photos/id/322/300/300\",\"email\":\"rburril2@unesco.org\"},{\"nrp\":218116603,\"nama\":\"Babita McJerrow\",\"ipk\":1.86,\"semester\":4,\"sks\":83,\"propic\":\"https://picsum.photos/id/974/300/300\",\"email\":\"bmcjerrow3@opera.com\"},{\"nrp\":218116604,\"nama\":\"Sibella Selwyne\",\"ipk\":3.73,\"semester\":2,\"sks\":98,\"propic\":\"https://picsum.photos/id/459/300/300\",\"email\":\"sselwyne4@ed.gov\"},{\"nrp\":218116605,\"nama\":\"Elyssa Libby\",\"ipk\":1.29,\"semester\":1,\"sks\":34,\"propic\":\"https://picsum.photos/id/769/300/300\",\"email\":\"elibby5@irs.gov\"},{\"nrp\":218116606,\"nama\":\"Whitney Sumsion\",\"ipk\":3.61,\"semester\":12,\"sks\":122,\"propic\":\"https://picsum.photos/id/150/300/300\",\"email\":\"wsumsion6@rediff.com\"},{\"nrp\":218116607,\"nama\":\"Sherie Rillatt\",\"ipk\":1.23,\"semester\":3,\"sks\":67,\"propic\":\"https://picsum.photos/id/959/300/300\",\"email\":\"srillatt7@berkeley.edu\"},{\"nrp\":218116608,\"nama\":\"Ann Keay\",\"ipk\":3.77,\"semester\":2,\"sks\":99,\"propic\":\"https://picsum.photos/id/393/300/300\",\"email\":\"akeay8@technorati.com\"},{\"nrp\":218116609,\"nama\":\"Andriette Moreton\",\"ipk\":3.53,\"semester\":3,\"sks\":14,\"propic\":\"https://picsum.photos/id/49/300/300\",\"email\":\"amoreton9@miibeian.gov.cn\"},{\"nrp\":218116610,\"nama\":\"Channa Farnfield\",\"ipk\":3.03,\"semester\":4,\"sks\":32,\"propic\":\"https://picsum.photos/id/993/300/300\",\"email\":\"cfarnfielda@sitemeter.com\"},{\"nrp\":218116611,\"nama\":\"Ernie Hanning\",\"ipk\":1.85,\"semester\":11,\"sks\":106,\"propic\":\"https://picsum.photos/id/833/300/300\",\"email\":\"ehanningb@amazon.co.uk\"},{\"nrp\":218116612,\"nama\":\"Raeann Clayson\",\"ipk\":3.96,\"semester\":5,\"sks\":142,\"propic\":\"https://picsum.photos/id/737/300/300\",\"email\":\"rclaysonc@blogtalkradio.com\"},{\"nrp\":218116613,\"nama\":\"Harrietta Villa\",\"ipk\":1.73,\"semester\":11,\"sks\":22,\"propic\":\"https://picsum.photos/id/799/300/300\",\"email\":\"hvillad@flickr.com\"},{\"nrp\":218116614,\"nama\":\"Emlen Feldmark\",\"ipk\":0.51,\"semester\":8,\"sks\":82,\"propic\":\"https://picsum.photos/id/770/300/300\",\"email\":\"efeldmarke@sourceforge.net\"},{\"nrp\":218116615,\"nama\":\"Laurence Collings\",\"ipk\":1.05,\"semester\":12,\"sks\":70,\"propic\":\"https://picsum.photos/id/106/300/300\",\"email\":\"lcollingsf@angelfire.com\"},{\"nrp\":218116616,\"nama\":\"Dun Gutowska\",\"ipk\":0.38,\"semester\":14,\"sks\":135,\"propic\":\"https://picsum.photos/id/309/300/300\",\"email\":\"dgutowskag@thetimes.co.uk\"},{\"nrp\":218116617,\"nama\":\"Lu Roddam\",\"ipk\":0.47,\"semester\":14,\"sks\":85,\"propic\":\"https://picsum.photos/id/740/300/300\",\"email\":\"lroddamh@bloglines.com\"},{\"nrp\":218116618,\"nama\":\"Ranna Ffrench\",\"ipk\":3.54,\"semester\":13,\"sks\":126,\"propic\":\"https://picsum.photos/id/541/300/300\",\"email\":\"rffrenchi@ebay.co.uk\"},{\"nrp\":218116619,\"nama\":\"Oliy Vickerstaff\",\"ipk\":3.12,\"semester\":14,\"sks\":27,\"propic\":\"https://picsum.photos/id/404/300/300\",\"email\":\"ovickerstaffj@networkadvertising.org\"},{\"nrp\":218116620,\"nama\":\"Chas Haxley\",\"ipk\":1.58,\"semester\":3,\"sks\":140,\"propic\":\"https://picsum.photos/id/795/300/300\",\"email\":\"chaxleyk@weibo.com\"},{\"nrp\":218116621,\"nama\":\"Vladimir Chansonne\",\"ipk\":1.12,\"semester\":13,\"sks\":7,\"propic\":\"https://picsum.photos/id/502/300/300\",\"email\":\"vchansonnel@goodreads.com\"},{\"nrp\":218116622,\"nama\":\"Hildegarde Kenlin\",\"ipk\":2.48,\"semester\":3,\"sks\":46,\"propic\":\"https://picsum.photos/id/256/300/300\",\"email\":\"hkenlinm@netvibes.com\"},{\"nrp\":218116623,\"nama\":\"Zonda Maryott\",\"ipk\":1.61,\"semester\":3,\"sks\":68,\"propic\":\"https://picsum.photos/id/968/300/300\",\"email\":\"zmaryottn@sphinn.com\"},{\"nrp\":218116624,\"nama\":\"Goober Puzey\",\"ipk\":2.14,\"semester\":8,\"sks\":12,\"propic\":\"https://picsum.photos/id/684/300/300\",\"email\":\"gpuzeyo@goodreads.com\"},{\"nrp\":218116625,\"nama\":\"Allister Mucci\",\"ipk\":0.51,\"semester\":1,\"sks\":120,\"propic\":\"https://picsum.photos/id/798/300/300\",\"email\":\"amuccip@linkedin.com\"},{\"nrp\":218116626,\"nama\":\"Franny Acosta\",\"ipk\":0.22,\"semester\":8,\"sks\":49,\"propic\":\"https://picsum.photos/id/609/300/300\",\"email\":\"facostaq@quantcast.com\"},{\"nrp\":218116627,\"nama\":\"Merna Burfoot\",\"ipk\":2.65,\"semester\":3,\"sks\":61,\"propic\":\"https://picsum.photos/id/631/300/300\",\"email\":\"mburfootr@sciencedaily.com\"},{\"nrp\":218116628,\"nama\":\"Emilio Gianneschi\",\"ipk\":1.91,\"semester\":1,\"sks\":49,\"propic\":\"https://picsum.photos/id/54/300/300\",\"email\":\"egianneschis@smugmug.com\"},{\"nrp\":218116629,\"nama\":\"Joelly McElrea\",\"ipk\":0.85,\"semester\":10,\"sks\":82,\"propic\":\"https://picsum.photos/id/322/300/300\",\"email\":\"jmcelreat@parallels.com\"},{\"nrp\":218116630,\"nama\":\"Ricoriki Landsbury\",\"ipk\":2.75,\"semester\":6,\"sks\":122,\"propic\":\"https://picsum.photos/id/41/300/300\",\"email\":\"rlandsburyu@jigsy.com\"},{\"nrp\":218116631,\"nama\":\"Ave Lansdown\",\"ipk\":3.68,\"semester\":10,\"sks\":114,\"propic\":\"https://picsum.photos/id/595/300/300\",\"email\":\"alansdownv@nydailynews.com\"},{\"nrp\":218116632,\"nama\":\"Stephani Werlock\",\"ipk\":2.3,\"semester\":14,\"sks\":33,\"propic\":\"https://picsum.photos/id/778/300/300\",\"email\":\"swerlockw@spiegel.de\"},{\"nrp\":218116633,\"nama\":\"Noel Porcas\",\"ipk\":1.2,\"semester\":3,\"sks\":10,\"propic\":\"https://picsum.photos/id/654/300/300\",\"email\":\"nporcasx@rediff.com\"},{\"nrp\":218116634,\"nama\":\"Percy Clell\",\"ipk\":2.95,\"semester\":10,\"sks\":97,\"propic\":\"https://picsum.photos/id/507/300/300\",\"email\":\"pclelly@japanpost.jp\"},{\"nrp\":218116635,\"nama\":\"Leann Bangham\",\"ipk\":0.54,\"semester\":2,\"sks\":71,\"propic\":\"https://picsum.photos/id/379/300/300\",\"email\":\"lbanghamz@accuweather.com\"},{\"nrp\":218116636,\"nama\":\"Jacob Dionisetto\",\"ipk\":0.34,\"semester\":2,\"sks\":4,\"propic\":\"https://picsum.photos/id/507/300/300\",\"email\":\"jdionisetto10@goo.ne.jp\"},{\"nrp\":218116637,\"nama\":\"Koenraad Dunlap\",\"ipk\":1.09,\"semester\":10,\"sks\":124,\"propic\":\"https://picsum.photos/id/486/300/300\",\"email\":\"kdunlap11@diigo.com\"},{\"nrp\":218116638,\"nama\":\"Garreth O'Caherny\",\"ipk\":3.81,\"semester\":14,\"sks\":44,\"propic\":\"https://picsum.photos/id/734/300/300\",\"email\":\"gocaherny12@independent.co.uk\"},{\"nrp\":218116639,\"nama\":\"Bradly Wrathall\",\"ipk\":3.36,\"semester\":1,\"sks\":56,\"propic\":\"https://picsum.photos/id/906/300/300\",\"email\":\"bwrathall13@un.org\"},{\"nrp\":218116640,\"nama\":\"Hildy Braidley\",\"ipk\":1.2,\"semester\":1,\"sks\":71,\"propic\":\"https://picsum.photos/id/45/300/300\",\"email\":\"hbraidley14@imageshack.us\"},{\"nrp\":218116641,\"nama\":\"Pancho Wermerling\",\"ipk\":1.13,\"semester\":14,\"sks\":89,\"propic\":\"https://picsum.photos/id/583/300/300\",\"email\":\"pwermerling15@rakuten.co.jp\"},{\"nrp\":218116642,\"nama\":\"Dreddy Padmore\",\"ipk\":2.86,\"semester\":14,\"sks\":30,\"propic\":\"https://picsum.photos/id/16/300/300\",\"email\":\"dpadmore16@tinyurl.com\"},{\"nrp\":218116643,\"nama\":\"Mick Freezor\",\"ipk\":1.27,\"semester\":9,\"sks\":95,\"propic\":\"https://picsum.photos/id/910/300/300\",\"email\":\"mfreezor17@biblegateway.com\"},{\"nrp\":218116644,\"nama\":\"Oswald Gurden\",\"ipk\":3.95,\"semester\":13,\"sks\":36,\"propic\":\"https://picsum.photos/id/850/300/300\",\"email\":\"ogurden18@intel.com\"},{\"nrp\":218116645,\"nama\":\"Teodora Smitherman\",\"ipk\":1.71,\"semester\":5,\"sks\":49,\"propic\":\"https://picsum.photos/id/436/300/300\",\"email\":\"tsmitherman19@people.com.cn\"},{\"nrp\":218116646,\"nama\":\"Winnifred Cockman\",\"ipk\":2.79,\"semester\":6,\"sks\":88,\"propic\":\"https://picsum.photos/id/767/300/300\",\"email\":\"wcockman1a@posterous.com\"},{\"nrp\":218116647,\"nama\":\"Hilliary Gronav\",\"ipk\":1.73,\"semester\":12,\"sks\":62,\"propic\":\"https://picsum.photos/id/129/300/300\",\"email\":\"hgronav1b@europa.eu\"},{\"nrp\":218116648,\"nama\":\"Jania Imlaw\",\"ipk\":3.19,\"semester\":8,\"sks\":129,\"propic\":\"https://picsum.photos/id/667/300/300\",\"email\":\"jimlaw1c@narod.ru\"},{\"nrp\":218116649,\"nama\":\"Benedikt Bonnett\",\"ipk\":0.35,\"semester\":7,\"sks\":18,\"propic\":\"https://picsum.photos/id/481/300/300\",\"email\":\"bbonnett1d@biblegateway.com\"}]", true);
    }
}
